---



import { BaselineStatus } from "astro-embed";
import styles from "./FeatureCard.module.css";
import type { FeatureData } from "./types";

interface Props {
  feature: FeatureData;
}

const { feature } = Astro.props;
const { id, name, description, category, status, date } = feature;
---

<div
  class={`feature-card ${styles["feature-card"]}`}
  data-id={id}
  data-category={category}
  data-status={status}
  data-date={date}
>
  <div class={styles["feature-header"]}>
    <h3>{name}</h3>
    <div class={styles["actions"]}>
      <button
        class={`star-btn ${styles["star-btn"]}`}
        title="Star this feature"
        data-star-btn
        data-id={id}
        aria-label={`Star ${name}`}
        aria-pressed="false"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          class={styles["star-icon"]}
        >
          <polygon
            points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"
          ></polygon>
        </svg>
      </button>
      <button
        class={`mdn-search-btn ${styles["mdn-search-btn"]}`}
        title="Search on MDN"
        data-query={name}
        data-mdn-btn
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
      </button>
    </div>
    <span
      class={`category-badge ${styles["category-badge"]}`}
      data-category={category}
    >
      {category}
    </span>
  </div>
  <p class={styles["feature-description"]}>{description}</p>
  <div class={styles["feature-status"]}>
    <BaselineStatus id={id} />
  </div>
</div>
