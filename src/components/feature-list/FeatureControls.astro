---



import styles from "./FeatureControls.module.css";
import type { FeatureData } from "./types";

interface Props {
  features: FeatureData[];
}

const { features } = Astro.props;

const categories = Array.from(new Set(features.map((f) => f.category))).sort();
const statuses = Array.from(new Set(features.map((f) => f.status))).sort();
---

<div class={styles["controls-container"]}>
  <div class={`${styles["control-group"]} ${styles["search-group"]}`}>
    <label for="search-input">Search</label>
    <input
      type="text"
      id="search-input"
      class={styles["control-input"]}
      placeholder="Filter by name..."
      data-action="search"
    />
  </div>

  <div class={styles["control-group"]}>
    <label for="category-filter">Category</label>
    <select
      id="category-filter"
      class={styles["control-select"]}
      data-action="filter-category"
    >
      <option value="all">All</option>
      {categories.map((cat) => <option value={cat}>{cat}</option>)}
    </select>
  </div>

  <div class={styles["control-group"]}>
    <label for="status-filter">Status</label>
    <select
      id="status-filter"
      class={styles["control-select"]}
      data-action="filter-status"
    >
      <option value="all">All</option>
      {
        statuses.map((s) => (
          <option value={s}>{s.charAt(0).toUpperCase() + s.slice(1)}</option>
        ))
      }
    </select>
  </div>

  <div class={styles["control-group"]}>
    <label for="starred-filter">Favorites</label>
    <select
      id="starred-filter"
      class={styles["control-select"]}
      data-action="filter-starred"
    >
      <option value="all">All</option>
      <option value="starred">Starred Only</option>
    </select>
  </div>

  <div class={styles["control-group"]}>
    <label for="sort-order">Sort By</label>
    <select id="sort-order" class={styles["control-select"]} data-action="sort">
      <option value="newest">Newest / Upcoming</option>
      <option value="oldest">Oldest / Stable</option>
      <option value="az">A–Z (Name)</option>
      <option value="za">Z–A (Name)</option>
    </select>
  </div>
</div>
